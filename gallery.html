<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery - Microtooling</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Fancybox CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css" />
	<!-- AOS CSS -->
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
      margin: 40px 0;
      position: relative;
    }
    .section-title::after {
      content: "";
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, #00c6ff, #0072ff);
      display: block;
      margin: 12px auto 0;
      border-radius: 2px;
    }

    /* Filter buttons */
    .filter-buttons {
      text-align: center;
      margin-bottom: 30px;
    }
    .filter-buttons button {
      background: transparent;
      border: 2px solid #00c6ff;
      color: #fff;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 25px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .filter-buttons button.active,
    .filter-buttons button:hover {
      background: #00c6ff;
      color: #111;
    }

   /* Masonry grid */
#gallery-container {
  column-count: 3;  /* 3 columns desktop */
  column-gap: 20px;
}
@media (max-width: 992px) {
  #gallery-container { column-count: 2; }
}
@media (max-width: 600px) {
  #gallery-container { column-count: 1; }
}

.gallery-item {
  position: relative;
  display: inline-block;
  width: 100%;
  margin-bottom: 20px;
  overflow: hidden;
  border-radius: 12px;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.gallery-item img {
  width: 100%;
  display: block;
  border-radius: 12px;
  transition: transform 0.5s ease;
}
.gallery-item:hover img {
  transform: scale(1.08);
}
.gallery-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 200, 255, 0.5);
}

/* Hover caption overlay */
.gallery-item a::after {
  content: attr(data-caption);
  position: absolute;
  left: 0; right: 0; bottom: 0;
  padding: 12px;
  background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
  color: #fff;
  font-size: 1rem;
  font-weight: 600;
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: 0 0 12px 12px;
}
.gallery-item:hover a::after {
  opacity: 1;
}

  </style>
</head>
<body>

  <!-- Navbar -->
   <header class="navbar">
    <div class="logo-title">
      <img src="images/logo.png" alt="Logo" class="logo">
      <span class="site-title">MicroTooling Solutions</span>
    </div>
    <nav class="menu">
     <a href="index.html#about">About</a>
    <a href="index.html#skills">Skills</a>
    <a href="index.html#facilities">Facilities</a>
    <a href="index.html#products">Products</a>
    <a href="index.html#customers">Customers</a>
    <a href="gallery.html" class="active">Gallery</a> <!-- Highlight current -->
    <a href="index.html#contact">Contact</a>
    </nav>
	<!-- GLightbox CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">

  </header>

  <!-- Gallery -->
  <section class="gallery">
    <div class="container">
      <h2 class="section-title">Our Gallery</h2>

      <!-- Filter buttons -->
      <div class="filter-buttons">
        <button class="active" data-filter="all">All</button>
        <button data-filter="moulds">Moulds</button>
        <button data-filter="tools">Tools</button>
        <button data-filter="components">Components</button>
        <button data-filter="fixtures">Fixtures</button>
      </div>

      <!-- Images -->
      <div class="row g-4" id="gallery-container">
        <!-- Loaded dynamically from JSON -->
      </div>
    </div>
  </section>

  <!-- Fancybox JS -->
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>

  <!-- Load Images Dynamically -->
  <script>
   fetch("images.json")
  .then(res => res.json())
  .then(images => {
    let container = document.getElementById("gallery-container");

    images.forEach((img, index) => {
      container.innerHTML += `
        <div class="gallery-item" 
             data-category="${img.category}" 
             data-caption="${img.caption.toLowerCase()}"
             data-aos="zoom-in" 
             data-aos-delay="${index * 100}">
          <a data-fancybox="gallery" href="${img.src}" data-caption="${img.caption}">
            <img src="${img.src}" alt="${img.caption}">
          </a>
        </div>
      `;
    });

    const items = document.querySelectorAll(".gallery-item");
    const buttons = document.querySelectorAll(".filter-buttons button");
    const searchInput = document.getElementById("searchInput");

    // Add "No results" placeholder
    const noResults = document.createElement("div");
    noResults.className = "no-results text-center";
    noResults.innerText = "⚠️ No results found. Try another category or search.";
    noResults.style.display = "none";
    container.appendChild(noResults);

    function applyFilters() {
      const filter = document.querySelector(".filter-buttons button.active").dataset.filter;
      const searchText = searchInput.value.toLowerCase();
      let visibleCount = 0;

      items.forEach(item => {
        const matchesCategory = (filter === "all" || item.dataset.category === filter);
        const matchesSearch = item.dataset.caption.includes(searchText);

        if (matchesCategory && matchesSearch) {
          item.style.display = "inline-block"; // important for masonry
          visibleCount++;
        } else {
          item.style.display = "none";
        }
      });

      noResults.style.display = visibleCount === 0 ? "block" : "none";
    }

    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        buttons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        applyFilters();
      });
    });

    searchInput.addEventListener("input", applyFilters);

    // Initial load
    applyFilters();

    // Initialize AOS after elements are inserted
    AOS.init({
      duration: 800,
      once: true
    });
  });

  </script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

</body>
</html>

